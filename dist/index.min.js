import{filterSchema as t,walkThroughHandler as s}from"./lib/engine.min.js";let Syntaxe=class{#a;#b;success;error;constructor(t=null){this.#c(t)}#c(a=null){a&&(this.#a=a.data||this.#a,this.#b=a.schema||this.#b),this.success=!1,this.error=String()}async query(a=null){try{this.#c(a),this.#a?this.#b||(this.error="'schema' is invalid."):this.error="'data' is invalid.";let i=await t(this.#b);if(!i.success)return this.error=i.err,this.#a;{let r=await s({data:this.#a,...i});if(null==r||void 0==r)return this.error="Query failed. Check your schema and try again.",this.#a;return this.success=!0,r}}catch(e){return e}}schema(t=null){return this.#b=t,this}data(t=null){return this.#a=t,this}};export default Syntaxe;